<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <title>üéØ Tr·∫Øc Nghi·ªám: T·ªâ S·ªë, T·ªâ S·ªë Ph·∫ßn TrƒÉm</title>
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Baloo 2', cursive;
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            overflow-x: hidden;
        }

        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Floating decorations */
        .floating-shapes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 0;
        }

        .shape {
            position: absolute;
            border-radius: 50%;
            opacity: 0.15;
            animation: float 6s ease-in-out infinite;
        }

        .shape:nth-child(1) {
            width: 80px;
            height: 80px;
            background: #FFD700;
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }

        .shape:nth-child(2) {
            width: 60px;
            height: 60px;
            background: #FF6B6B;
            top: 70%;
            left: 80%;
            animation-delay: 1s;
        }

        .shape:nth-child(3) {
            width: 100px;
            height: 100px;
            background: #4ECDC4;
            top: 40%;
            left: 5%;
            animation-delay: 2s;
        }

        .shape:nth-child(4) {
            width: 50px;
            height: 50px;
            background: #A8E6CF;
            top: 80%;
            left: 20%;
            animation-delay: 3s;
        }

        .shape:nth-child(5) {
            width: 70px;
            height: 70px;
            background: #FF8C94;
            top: 20%;
            left: 70%;
            animation-delay: 4s;
        }

        .shape:nth-child(6) {
            width: 90px;
            height: 90px;
            background: #98D8C8;
            top: 60%;
            left: 50%;
            animation-delay: 5s;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0) rotate(0deg);
            }

            50% {
                transform: translateY(-30px) rotate(180deg);
            }
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 30px 20px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 25px;
            margin-bottom: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 2.2rem;
            color: #764ba2;
            text-shadow: 2px 2px 0 #f093fb;
            margin-bottom: 10px;
        }

        .header p {
            color: #666;
            font-size: 1.2rem;
        }

        /* Stats Bar */
        .stats-bar {
            display: flex;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 20px 30px;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .stat-icon {
            width: 45px;
            height: 45px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
        }

        .stat-icon.question {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .stat-icon.correct {
            background: linear-gradient(135deg, #4CAF50, #8BC34A);
        }

        .stat-icon.wrong {
            background: linear-gradient(135deg, #FF5722, #FF9800);
        }

        .stat-icon.score {
            background: linear-gradient(135deg, #FFD700, #FFA500);
        }

        .stat-info h3 {
            font-size: 1.5rem;
            color: #333;
        }

        .stat-info p {
            color: #888;
            font-size: 0.9rem;
        }

        /* Quiz Container */
        .quiz-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 40px;
            margin-bottom: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .progress-bar {
            height: 12px;
            background: #e0e0e0;
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .question-number {
            display: inline-block;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 1rem;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.3rem;
            color: #333;
            margin-bottom: 30px;
            line-height: 1.6;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9ff 0%, #fff5f7 100%);
            border-radius: 15px;
            border-left: 5px solid #764ba2;
        }

        .options-container {
            display: grid;
            gap: 15px;
        }

        .option {
            padding: 18px 22px;
            background: white;
            border: 3px solid #e0e0e0;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.05rem;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .option:hover:not(.disabled) {
            border-color: #764ba2;
            transform: translateX(10px);
            box-shadow: 0 5px 20px rgba(118, 75, 162, 0.2);
        }

        .option-letter {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        .option.correct {
            background: linear-gradient(135deg, #E8F5E9, #C8E6C9);
            border-color: #4CAF50;
        }

        .option.correct .option-letter {
            background: linear-gradient(135deg, #4CAF50, #8BC34A);
        }

        .option.wrong {
            background: linear-gradient(135deg, #FFEBEE, #FFCDD2);
            border-color: #F44336;
        }

        .option.wrong .option-letter {
            background: linear-gradient(135deg, #F44336, #FF5722);
        }

        .option.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        /* Feedback */
        .feedback {
            display: none;
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            text-align: center;
            font-size: 1.2rem;
            animation: popIn 0.3s ease;
        }

        @keyframes popIn {
            from {
                transform: scale(0.8);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .feedback.correct {
            display: block;
            background: linear-gradient(135deg, #E8F5E9, #C8E6C9);
            color: #2E7D32;
        }

        .feedback.wrong {
            display: block;
            background: linear-gradient(135deg, #FFEBEE, #FFCDD2);
            color: #C62828;
        }

        /* Navigation Buttons */
        .nav-buttons {
            display: none;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .nav-buttons.active {
            display: flex;
        }

        .nav-btn {
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
            font-family: 'Baloo 2', cursive;
        }

        .next-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .next-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(102, 126, 234, 0.5);
        }

        .restart-btn {
            background: linear-gradient(135deg, #FF6B6B, #FF8E53);
            color: white;
            box-shadow: 0 5px 20px rgba(255, 107, 107, 0.4);
        }

        .restart-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(255, 107, 107, 0.5);
        }

        /* Results Section */
        .results-section {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 50px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
        }

        .results-section.active {
            display: block;
            animation: slideIn 0.5s ease;
        }

        .trophy-icon {
            font-size: 6rem;
            margin-bottom: 20px;
            animation: wiggle 0.5s ease infinite;
        }

        @keyframes wiggle {

            0%,
            100% {
                transform: rotate(-5deg);
            }

            50% {
                transform: rotate(5deg);
            }
        }

        .results-section h2 {
            font-size: 2.5rem;
            color: #764ba2;
            margin-bottom: 10px;
        }

        .score-display {
            font-size: 4rem;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea, #764ba2, #f093fb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 20px 0;
        }

        .score-message {
            font-size: 1.3rem;
            color: #666;
            margin-bottom: 30px;
        }

        .stars {
            font-size: 3rem;
            margin: 20px 0;
        }

        /* Confetti Animation */
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            top: -10px;
            animation: confettiFall 3s ease-out forwards;
        }

        @keyframes confettiFall {
            to {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        /* Volume Control */
        .volume-control {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 15px;
            border-radius: 50px;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }

        .volume-control:hover {
            background: white;
        }

        /* Mascot */
        .mascot {
            position: fixed;
            bottom: 20px;
            right: 20px;
            font-size: 4rem;
            animation: bounce 2s ease infinite;
            cursor: pointer;
            z-index: 100;
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        .mascot:hover {
            transform: scale(1.1);
        }

        /* Touch-friendly for mobile */
        @media (hover: none) and (pointer: coarse) {
            .option {
                min-height: 60px;
            }

            .option:active {
                transform: scale(0.98);
                opacity: 0.9;
            }

            .nav-btn:active {
                transform: scale(0.95);
            }
        }

        /* Responsive - Tablets */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.5rem;
            }

            .header p {
                font-size: 1rem;
            }

            .question-text {
                font-size: 1.05rem;
                padding: 15px;
            }

            .option {
                padding: 14px 12px;
                font-size: 0.95rem;
            }

            .option-letter {
                width: 35px;
                height: 35px;
                font-size: 0.9rem;
            }

            .stats-bar {
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: space-around;
                padding: 15px 10px;
                gap: 10px;
            }

            .stat-item {
                flex: 0 0 45%;
            }

            .stat-icon {
                width: 38px;
                height: 38px;
                font-size: 1.1rem;
            }

            .stat-info h3 {
                font-size: 1.2rem;
            }

            .stat-info p {
                font-size: 0.8rem;
            }

            .volume-control {
                top: 10px;
                right: 10px;
                padding: 8px 12px;
                font-size: 0.9rem;
            }

            .mascot {
                font-size: 2.5rem;
                bottom: 10px;
                right: 10px;
            }

            .container {
                padding: 10px;
            }

            .quiz-container {
                padding: 20px 15px;
            }

            .nav-btn {
                padding: 14px 30px;
                font-size: 1rem;
            }

            .results-section {
                padding: 30px 20px;
            }

            .trophy-icon {
                font-size: 4rem;
            }

            .results-section h2 {
                font-size: 1.8rem;
            }

            .score-display {
                font-size: 3rem;
            }

            .stars {
                font-size: 2rem;
            }
        }

        /* Responsive - Small phones */
        @media (max-width: 480px) {
            .header {
                padding: 20px 15px;
                border-radius: 20px;
            }

            .header h1 {
                font-size: 1.25rem;
            }

            .header p {
                font-size: 0.9rem;
            }

            .question-number {
                font-size: 0.85rem;
                padding: 6px 14px;
            }

            .question-text {
                font-size: 0.95rem;
                padding: 12px;
                margin-bottom: 20px;
            }

            .options-container {
                gap: 10px;
            }

            .option {
                padding: 12px 10px;
                font-size: 0.9rem;
                border-radius: 12px;
                gap: 10px;
            }

            .option-letter {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }

            .stats-bar {
                border-radius: 15px;
                margin-bottom: 15px;
            }

            .stat-item {
                gap: 6px;
            }

            .feedback {
                font-size: 1rem;
                padding: 15px;
            }

            .nav-buttons {
                margin-top: 20px;
            }

            .nav-btn {
                padding: 12px 25px;
                font-size: 0.95rem;
                width: 100%;
            }

            .progress-bar {
                height: 10px;
                margin-bottom: 20px;
            }

            .volume-control span:last-child {
                display: none;
            }

            .floating-shapes {
                display: none;
            }
        }

        /* iPhone X and newer safe area */
        @supports (padding: max(0px)) {
            .container {
                padding-left: max(10px, env(safe-area-inset-left));
                padding-right: max(10px, env(safe-area-inset-right));
                padding-bottom: max(20px, env(safe-area-inset-bottom));
            }
        }
    </style>
</head>

<body>
    <!-- Floating Shapes -->
    <div class="floating-shapes">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>

    <!-- Volume Control -->
    <div class="volume-control" onclick="toggleSound()">
        <span id="volumeIcon">üîä</span>
        <span>√Çm thanh</span>
    </div>

    <!-- Mascot -->
    <div class="mascot" onclick="mascotClick()">ü¶ä</div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <div
                style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 10px 20px; border-radius: 30px; font-size: 1rem; font-weight: 600; margin-bottom: 15px; display: inline-block; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4); letter-spacing: 0.5px;">
                üè´ H·ªá th·ªëng l·ªõp h·ªçc theo y√™u c·∫ßu EEC-0829120482
            </div>
            <h1>üéØ Tr·∫Øc Nghi·ªám: T·ªâ S·ªë, T·ªâ S·ªë Ph·∫ßn TrƒÉm</h1>
            <p>H·ªçc m√† ch∆°i, ch∆°i m√† h·ªçc! üìö‚ú®</p>
        </div>

        <!-- Stats Bar -->
        <div class="stats-bar" id="statsBar">
            <div class="stat-item">
                <div class="stat-icon question">üìã</div>
                <div class="stat-info">
                    <h3 id="currentQuestion">1/20</h3>
                    <p>C√¢u h·ªèi</p>
                </div>
            </div>
            <div class="stat-item">
                <div class="stat-icon correct">‚úÖ</div>
                <div class="stat-info">
                    <h3 id="correctCount">0</h3>
                    <p>ƒê√∫ng</p>
                </div>
            </div>
            <div class="stat-item">
                <div class="stat-icon wrong">‚ùå</div>
                <div class="stat-info">
                    <h3 id="wrongCount">0</h3>
                    <p>Sai</p>
                </div>
            </div>
            <div class="stat-item">
                <div class="stat-icon score">‚≠ê</div>
                <div class="stat-info">
                    <h3 id="scoreDisplay">0</h3>
                    <p>ƒêi·ªÉm</p>
                </div>
            </div>
        </div>

        <!-- Quiz Container -->
        <div class="quiz-container" id="quizContainer">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="question-number" id="questionNumber">C√¢u 1</div>
            <div class="question-text" id="questionText"></div>
            <div class="options-container" id="optionsContainer"></div>
            <div class="feedback" id="feedback"></div>
            <div class="nav-buttons" id="navButtons">
                <button class="nav-btn next-btn" onclick="nextQuestion()">C√¢u ti·∫øp theo ‚û°Ô∏è</button>
            </div>
        </div>

        <!-- Results Section -->
        <div class="results-section" id="resultsSection">
            <div class="trophy-icon" id="trophyIcon">üèÜ</div>
            <h2>Ch√∫c m·ª´ng! B·∫°n ƒë√£ ho√†n th√†nh!</h2>
            <div class="score-display" id="finalScore">0/20</div>
            <div class="stars" id="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <p class="score-message" id="scoreMessage">Xu·∫•t s·∫Øc!</p>
            <p id="completionTime" style="color: #888; font-size: 1rem; margin: 15px 0;">üïê Ho√†n th√†nh l√∫c: --</p>
            <button class="nav-btn restart-btn" onclick="restartGame()">üîÑ Ch∆°i l·∫°i</button>
        </div>
    </div>

    <script>
        // Audio Context for sounds - Mobile optimized
        const AudioContext = window.AudioContext || window.webkitAudioContext;
        let audioCtx = null;
        let soundEnabled = true;
        let audioUnlocked = false;

        // Initialize audio context on user interaction (required for mobile)
        function initAudio() {
            if (!audioCtx) {
                try {
                    audioCtx = new AudioContext();
                } catch (e) {
                    console.log('Audio not supported');
                    return false;
                }
            }
            if (audioCtx.state === 'suspended') {
                audioCtx.resume();
            }
            return true;
        }

        // Unlock audio for mobile devices (iOS/Android)
        function unlockAudio() {
            if (audioUnlocked) return;

            if (initAudio()) {
                // Create and play a silent sound to unlock audio
                const buffer = audioCtx.createBuffer(1, 1, 22050);
                const source = audioCtx.createBufferSource();
                source.buffer = buffer;
                source.connect(audioCtx.destination);
                source.start(0);
                audioUnlocked = true;
            }
        }

        // Add touch/click listeners to unlock audio on mobile
        ['touchstart', 'touchend', 'click'].forEach(event => {
            document.addEventListener(event, unlockAudio, { once: true, passive: true });
        });

        // Sound effects using Web Audio API
        function playSound(type) {
            if (!soundEnabled) return;
            initAudio();

            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);

            if (type === 'correct') {
                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(400, audioCtx.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(800, audioCtx.currentTime + 0.2);
                gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
                oscillator.start();
                oscillator.stop(audioCtx.currentTime + 0.3);
            } else if (type === 'wrong') {
                oscillator.type = 'sawtooth';
                oscillator.frequency.setValueAtTime(150, audioCtx.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(100, audioCtx.currentTime + 0.2);
                gainNode.gain.setValueAtTime(0.2, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
                oscillator.start();
                oscillator.stop(audioCtx.currentTime + 0.3);
            } else if (type === 'click') {
                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(600, audioCtx.currentTime);
                gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.05);
                oscillator.start();
                oscillator.stop(audioCtx.currentTime + 0.05);
            } else if (type === 'complete') {
                const frequencies = [523, 659, 784, 1047];
                frequencies.forEach((freq, i) => {
                    const osc = audioCtx.createOscillator();
                    const gain = audioCtx.createGain();
                    osc.connect(gain);
                    gain.connect(audioCtx.destination);
                    osc.type = 'sine';
                    osc.frequency.setValueAtTime(freq, audioCtx.currentTime + i * 0.15);
                    gain.gain.setValueAtTime(0.2, audioCtx.currentTime + i * 0.15);
                    gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + i * 0.15 + 0.3);
                    osc.start(audioCtx.currentTime + i * 0.15);
                    osc.stop(audioCtx.currentTime + i * 0.15 + 0.3);
                });
            }
        }

        function toggleSound() {
            soundEnabled = !soundEnabled;
            document.getElementById('volumeIcon').textContent = soundEnabled ? 'üîä' : 'üîá';
            if (soundEnabled) {
                initAudio();
                playSound('click');
            }
        }

        function mascotClick() {
            initAudio();
            playSound('click');
            const mascot = document.querySelector('.mascot');
            mascot.style.animation = 'none';
            mascot.offsetHeight;
            mascot.style.animation = 'wiggle 0.3s ease';
            setTimeout(() => {
                mascot.style.animation = 'bounce 2s ease infinite';
            }, 300);
        }

        // All 20 questions from the document
        const questions = [
            {
                number: "1",
                text: "T·ªâ s·ªë c·ªßa s·ªë b·∫°n nam so v·ªõi s·ªë b·∫°n n·ªØ trong m·ªôt l·ªõp l√† 2/3. ƒêi·ªÅu n√†y c√≥ nghƒ©a l√† g√¨?",
                options: [
                    { letter: "A", text: "L·ªõp c√≥ t·ªïng c·ªông 5 b·∫°n." },
                    { letter: "B", text: "S·ªë b·∫°n nam l√† 2 v√† s·ªë b·∫°n n·ªØ l√† 3." },
                    { letter: "C", text: "S·ªë b·∫°n n·ªØ nhi·ªÅu h∆°n s·ªë b·∫°n nam l√† 1 b·∫°n." },
                    { letter: "D", text: "C·ª© 2 b·∫°n nam th√¨ c√≥ 3 b·∫°n n·ªØ." }
                ],
                correctAnswer: "D"
            },
            {
                number: "2",
                text: "M·ªôt \"t·ªâ s·ªë ph·∫ßn trƒÉm\" v·ªÅ c∆° b·∫£n l√† m·ªôt t·ªâ s·ªë c√≥ ƒë·∫∑c ƒëi·ªÉm quan tr·ªçng n√†o?",
                options: [
                    { letter: "A", text: "L√† m·ªôt t·ªâ s·ªë c√≥ m·∫´u s·ªë b·∫±ng 100." },
                    { letter: "B", text: "L√† m·ªôt t·ªâ s·ªë ƒë∆∞·ª£c vi·∫øt d∆∞·ªõi d·∫°ng s·ªë th·∫≠p ph√¢n." },
                    { letter: "C", text: "L√† m·ªôt t·ªâ s·ªë lu√¥n nh·ªè h∆°n 1." },
                    { letter: "D", text: "L√† m·ªôt t·ªâ s·ªë c√≥ t·ª≠ s·ªë b·∫±ng 100." }
                ],
                correctAnswer: "A"
            },
            {
                number: "3",
                text: "T·ªâ l·ªá b·∫£n ƒë·ªì 1 : 10.000 c√≥ √Ω nghƒ©a l√† g√¨?",
                options: [
                    { letter: "A", text: "1 cm tr√™n b·∫£n ƒë·ªì b·∫±ng 10.000 m√©t tr√™n th·ª±c t·∫ø." },
                    { letter: "B", text: "10.000 ƒë∆°n v·ªã ƒë·ªô d√†i tr√™n b·∫£n ƒë·ªì t∆∞∆°ng ·ª©ng v·ªõi 1 ƒë∆°n v·ªã ƒë·ªô d√†i tr√™n th·ª±c t·∫ø." },
                    { letter: "C", text: "To√†n b·ªô b·∫£n ƒë·ªì bi·ªÉu di·ªÖn m·ªôt khu v·ª±c c√≥ di·ªán t√≠ch 10.000 m¬≤." },
                    { letter: "D", text: "1 ƒë∆°n v·ªã ƒë·ªô d√†i tr√™n b·∫£n ƒë·ªì t∆∞∆°ng ·ª©ng v·ªõi 10.000 ƒë∆°n v·ªã ƒë·ªô d√†i ƒë√≥ tr√™n th·ª±c t·∫ø." }
                ],
                correctAnswer: "D"
            },
            {
                number: "4",
                text: "ƒê·ªÉ t√≠nh ƒë·ªô d√†i th·∫≠t c·ªßa m·ªôt con s√¥ng d·ª±a v√†o b·∫£n ƒë·ªì, b·∫°n c·∫ßn bi·∫øt nh·ªØng th√¥ng tin n√†o?",
                options: [
                    { letter: "A", text: "Ch·ªâ c·∫ßn t·ªâ l·ªá c·ªßa b·∫£n ƒë·ªì." },
                    { letter: "B", text: "Ch·ªâ c·∫ßn ƒë·ªô d√†i c·ªßa con s√¥ng tr√™n b·∫£n ƒë·ªì." },
                    { letter: "C", text: "T√™n c·ªßa con s√¥ng v√† v·ªã tr√≠ ƒë·ªãa l√Ω c·ªßa n√≥." },
                    { letter: "D", text: "ƒê·ªô d√†i c·ªßa con s√¥ng tr√™n b·∫£n ƒë·ªì v√† t·ªâ l·ªá c·ªßa b·∫£n ƒë·ªì ƒë√≥." }
                ],
                correctAnswer: "D"
            },
            {
                number: "5",
                text: "Ph∆∞∆°ng ph√°p chung ƒë·ªÉ t√¨m ƒë·ªô d√†i tr√™n b·∫£n ƒë·ªì c·ªßa m·ªôt qu√£ng ƒë∆∞·ªùng khi bi·∫øt ƒë·ªô d√†i th·∫≠t v√† t·ªâ l·ªá b·∫£n ƒë·ªì l√† g√¨?",
                options: [
                    { letter: "A", text: "L·∫•y ƒë·ªô d√†i th·∫≠t chia cho m·∫´u s·ªë c·ªßa t·ªâ l·ªá b·∫£n ƒë·ªì (sau khi ƒë√£ ƒë·ªìng nh·∫•t ƒë∆°n v·ªã)." },
                    { letter: "B", text: "L·∫•y m·∫´u s·ªë c·ªßa t·ªâ l·ªá b·∫£n ƒë·ªì chia cho ƒë·ªô d√†i th·∫≠t." },
                    { letter: "C", text: "Chuy·ªÉn ƒë·ªïi ƒë·ªô d√†i th·∫≠t sang kil√¥m√©t v√† ghi v√†o b·∫£n ƒë·ªì." },
                    { letter: "D", text: "L·∫•y ƒë·ªô d√†i th·∫≠t nh√¢n v·ªõi m·∫´u s·ªë c·ªßa t·ªâ l·ªá b·∫£n ƒë·ªì." }
                ],
                correctAnswer: "A"
            },
            {
                number: "6",
                text: "So s√°nh hai b·∫£n ƒë·ªì c√πng k√≠ch th∆∞·ªõc, m·ªôt b·∫£n ƒë·ªì c√≥ t·ªâ l·ªá 1 : 25.000 v√† m·ªôt b·∫£n ƒë·ªì c√≥ t·ªâ l·ªá 1 : 1.000.000. B·∫£n ƒë·ªì n√†o s·∫Ω hi·ªÉn th·ªã khu v·ª±c ƒë∆∞·ª£c bi·ªÉu di·ªÖn m·ªôt c√°ch chi ti·∫øt h∆°n?",
                options: [
                    { letter: "A", text: "B·∫£n ƒë·ªì c√≥ t·ªâ l·ªá 1 : 25.000." },
                    { letter: "B", text: "B·∫£n ƒë·ªì c√≥ t·ªâ l·ªá 1 : 1.000.000." },
                    { letter: "C", text: "C·∫£ hai b·∫£n ƒë·ªì hi·ªÉn th·ªã chi ti·∫øt nh∆∞ nhau." },
                    { letter: "D", text: "Kh√¥ng th·ªÉ x√°c ƒë·ªãnh ƒë∆∞·ª£c n·∫øu kh√¥ng bi·∫øt ƒë√≥ l√† khu v·ª±c n√†o." }
                ],
                correctAnswer: "A"
            },
            {
                number: "7",
                text: "T·∫°i sao vi·ªác ƒë·ªìng nh·∫•t ƒë∆°n v·ªã ƒëo (v√≠ d·ª•: ƒë·ªïi km sang cm) l·∫°i l√† m·ªôt b∆∞·ªõc quan tr·ªçng trong c√°c b√†i to√°n v·ªÅ t·ªâ l·ªá b·∫£n ƒë·ªì?",
                options: [
                    { letter: "A", text: "V√¨ b·∫£n ƒë·ªì lu√¥n lu√¥n ƒë∆∞·ª£c v·∫Ω b·∫±ng ƒë∆°n v·ªã centimet." },
                    { letter: "B", text: "V√¨ t·ªâ l·ªá b·∫£n ƒë·ªì l√† m·ªôt t·ªâ s·ªë kh√¥ng c√≥ ƒë∆°n v·ªã, n√≥ so s√°nh hai ƒë·ªô d√†i c√≥ c√πng ƒë∆°n v·ªã ƒëo." },
                    { letter: "C", text: "V√¨ c√°c ƒë∆°n v·ªã ƒëo qu·ªëc t·∫ø y√™u c·∫ßu ph·∫£i d√πng centimet." },
                    { letter: "D", text: "ƒê·ªÉ l√†m cho c√°c con s·ªë t√≠nh to√°n tr·ªü n√™n l·ªõn h∆°n v√† d·ªÖ nh√¨n h∆°n." }
                ],
                correctAnswer: "B"
            },
            {
                number: "8",
                text: "ƒê·ªÉ chuy·ªÉn m·ªôt ph√¢n s·ªë b·∫•t k·ª≥ th√†nh t·ªâ s·ªë ph·∫ßn trƒÉm, ph∆∞∆°ng ph√°p chung l√† g√¨?",
                options: [
                    { letter: "A", text: "Nh√¢n c·∫£ t·ª≠ v√† m·∫´u v·ªõi 100." },
                    { letter: "B", text: "L·∫•y t·ª≠ s·ªë chia cho m·∫´u s·ªë r·ªìi nh√¢n k·∫øt qu·∫£ v·ªõi 100 v√† vi·∫øt k√Ω hi·ªáu %." },
                    { letter: "C", text: "L·∫•y m·∫´u s·ªë chia cho t·ª≠ s·ªë r·ªìi nh√¢n v·ªõi 100." },
                    { letter: "D", text: "Ch·ªâ c·∫ßn th√™m k√Ω hi·ªáu % v√†o sau ph√¢n s·ªë." }
                ],
                correctAnswer: "B"
            },
            {
                number: "9",
                text: "C√¥ng th·ª©c n√†o sau ƒë√¢y m√¥ t·∫£ ƒë√∫ng ph∆∞∆°ng ph√°p t√≠nh ƒë·ªô d√†i th·∫≠t t·ª´ c√°c th√¥ng tin tr√™n b·∫£n ƒë·ªì?",
                options: [
                    { letter: "A", text: "ƒê·ªô d√†i th·∫≠t = M·∫´u s·ªë c·ªßa t·ªâ l·ªá √∑ ƒê·ªô d√†i tr√™n b·∫£n ƒë·ªì" },
                    { letter: "B", text: "ƒê·ªô d√†i th·∫≠t = ƒê·ªô d√†i tr√™n b·∫£n ƒë·ªì √ó M·∫´u s·ªë c·ªßa t·ªâ l·ªá" },
                    { letter: "C", text: "ƒê·ªô d√†i th·∫≠t = ƒê·ªô d√†i tr√™n b·∫£n ƒë·ªì √∑ M·∫´u s·ªë c·ªßa t·ªâ l·ªá" },
                    { letter: "D", text: "ƒê·ªô d√†i th·∫≠t = ƒê·ªô d√†i tr√™n b·∫£n ƒë·ªì + M·∫´u s·ªë c·ªßa t·ªâ l·ªá" }
                ],
                correctAnswer: "B"
            },
            {
                number: "10",
                text: "M·ªôt t·ªâ s·ªë ph·∫ßn trƒÉm l·ªõn h∆°n 100% (v√≠ d·ª•: 113%) c√≥ √Ω nghƒ©a l√Ω thuy·∫øt l√† g√¨ khi so s√°nh s·ªë A v·ªõi s·ªë B?",
                options: [
                    { letter: "A", text: "S·ªë A l·ªõn h∆°n s·ªë B." },
                    { letter: "B", text: "S·ªë A nh·ªè h∆°n s·ªë B." },
                    { letter: "C", text: "S·ªë A b·∫±ng s·ªë B." },
                    { letter: "D", text: "Ph√©p t√≠nh ƒë√£ b·ªã sai." }
                ],
                correctAnswer: "A"
            },
            {
                number: "11",
                text: "C√°ch vi·∫øt \"T·ªâ l·ªá 1 : 500.000\" t∆∞∆°ng ƒë∆∞∆°ng v·ªõi c√°ch vi·∫øt n√†o d∆∞·ªõi d·∫°ng ph√¢n s·ªë?",
                options: [
                    { letter: "A", text: "500.000 : 1" },
                    { letter: "B", text: "500.000/1" },
                    { letter: "C", text: "1 √ó 500.000" },
                    { letter: "D", text: "1/500.000" }
                ],
                correctAnswer: "D"
            },
            {
                number: "12",
                text: "Khi gi·ªØ nguy√™n ƒë·ªô d√†i th·∫≠t c·ªßa m·ªôt con ƒë∆∞·ªùng, n·∫øu bi·ªÉu di·ªÖn n√≥ tr√™n m·ªôt b·∫£n ƒë·ªì c√≥ t·ªâ l·ªá v·ªõi m·∫´u s·ªë nh·ªè h∆°n (v√≠ d·ª•: t·ª´ 1:2000 sang 1:500), ƒë·ªô d√†i c·ªßa con ƒë∆∞·ªùng tr√™n b·∫£n ƒë·ªì s·∫Ω thay ƒë·ªïi nh∆∞ th·∫ø n√†o?",
                options: [
                    { letter: "A", text: "Thay ƒë·ªïi kh√¥ng th·ªÉ ƒëo√°n tr∆∞·ªõc." },
                    { letter: "B", text: "S·∫Ω ng·∫Øn h∆°n." },
                    { letter: "C", text: "S·∫Ω d√†i h∆°n." },
                    { letter: "D", text: "V·∫´n gi·ªØ nguy√™n." }
                ],
                correctAnswer: "C"
            },
            {
                number: "13",
                text: "Trong m·ªôt b√†i to√°n, sau khi t√≠nh to√°n b·∫°n t√¨m ra chi·ªÅu r·ªông c·ªßa m·ªôt khu ƒë·∫•t tr√™n b·∫£n ƒë·ªì l√† 5 cm. ƒê·ªÉ ho√†n th√†nh b√†i to√°n, b∆∞·ªõc ph∆∞∆°ng ph√°p cu·ªëi c√πng l√† g√¨?",
                options: [
                    { letter: "A", text: "V·∫Ω l·∫°i khu ƒë·∫•t v·ªõi chi·ªÅu r·ªông 5 cm." },
                    { letter: "B", text: "ƒê·ªïi ƒë∆°n v·ªã sang m√©t." },
                    { letter: "C", text: "Vi·∫øt ƒë√°p s·ªë k√®m theo ƒë∆°n v·ªã ƒëo ch√≠nh x√°c." },
                    { letter: "D", text: "Ki·ªÉm tra l·∫°i ph√©p chia." }
                ],
                correctAnswer: "C"
            },
            {
                number: "14",
                text: "Trong c√°ch vi·∫øt t·ªâ s·ªë d∆∞·ªõi d·∫°ng ph√¢n s·ªë a/b, c√°c th√†nh ph·∫ßn \"a\" v√† \"b\" c√≥ t√™n g·ªçi l√† g√¨?",
                options: [
                    { letter: "A", text: "\"a\" l√† m·∫´u s·ªë v√† \"b\" l√† t·ª≠ s·ªë." },
                    { letter: "B", text: "\"a\" l√† s·ªë b·ªã chia v√† \"b\" l√† s·ªë chia." },
                    { letter: "C", text: "\"a\" l√† t·ªâ s·ªë v√† \"b\" l√† ph·∫ßn trƒÉm." },
                    { letter: "D", text: "\"a\" l√† t·ª≠ s·ªë v√† \"b\" l√† m·∫´u s·ªë." }
                ],
                correctAnswer: "D"
            },
            {
                number: "15",
                text: "N·∫øu t·ªâ s·ªë c·ªßa s·ªë √¥ t√¥ ƒëi·ªán v√† t·ªïng s·ªë √¥ t√¥ l√† 3/7, ph∆∞∆°ng ph√°p ƒë·ªÉ t√¨m t·ªâ s·ªë c·ªßa s·ªë √¥ t√¥ ƒëi·ªán v√† s·ªë √¥ t√¥ ch·∫°y xƒÉng l√† g√¨?",
                options: [
                    { letter: "A", text: "L·∫•y t·ªâ s·ªë ban ƒë·∫ßu ƒë·∫£o ng∆∞·ª£c l·∫°i l√† 7/3." },
                    { letter: "B", text: "L·∫•y 7 tr·ª´ 3, t·ªâ s·ªë c·∫ßn t√¨m l√† 3/4." },
                    { letter: "C", text: "T·ªâ s·ªë c·∫ßn t√¨m v·∫´n l√† 3/7." },
                    { letter: "D", text: "T·ªâ s·ªë n√†y kh√¥ng th·ªÉ x√°c ƒë·ªãnh ƒë∆∞·ª£c." }
                ],
                correctAnswer: "B"
            },
            {
                number: "16",
                text: "Kh·∫≥ng ƒë·ªãnh n√†o sau ƒë√¢y m√¥ t·∫£ ƒë√∫ng nh·∫•t v·ªÅ m·∫∑t l√Ω thuy·∫øt m·ªëi quan h·ªá gi·ªØa t·ªâ s·ªë, ph√¢n s·ªë v√† s·ªë th·∫≠p ph√¢n?",
                options: [
                    { letter: "A", text: "Ch√∫ng l√† ba kh√°i ni·ªám ho√†n to√†n kh√°c nhau v√† kh√¥ng li√™n quan." },
                    { letter: "B", text: "M·ªôt t·ªâ s·ªë c√≥ th·ªÉ ƒë∆∞·ª£c bi·ªÉu di·ªÖn d∆∞·ªõi d·∫°ng ph√¢n s·ªë, v√† gi√° tr·ªã c·ªßa n√≥ c√≥ th·ªÉ ƒë∆∞·ª£c vi·∫øt th√†nh s·ªë th·∫≠p ph√¢n." },
                    { letter: "C", text: "Ch·ªâ c√≥ s·ªë th·∫≠p ph√¢n m·ªõi c√≥ th·ªÉ chuy·ªÉn th√†nh t·ªâ s·ªë ph·∫ßn trƒÉm." },
                    { letter: "D", text: "Ph√¢n s·ªë l√† m·ªôt tr∆∞·ªùng h·ª£p ƒë·∫∑c bi·ªát c·ªßa t·ªâ s·ªë ph·∫ßn trƒÉm." }
                ],
                correctAnswer: "B"
            },
            {
                number: "17",
                text: "ƒê·ªÉ t√¨m t·ªâ s·ªë ph·∫ßn trƒÉm c·ªßa 9 so v·ªõi 36, b∆∞·ªõc ph∆∞∆°ng ph√°p ƒë·∫ßu ti√™n l√† g√¨?",
                options: [
                    { letter: "A", text: "Vi·∫øt t·ªâ s·ªë c·ªßa 9 v√† 36 d∆∞·ªõi d·∫°ng ph√¢n s·ªë 9/36." },
                    { letter: "B", text: "L·∫•y 36 chia cho 9." },
                    { letter: "C", text: "Nh√¢n 9 v·ªõi 100." },
                    { letter: "D", text: "T√¨m m·ªôt s·ªë ƒë·ªÉ nh√¢n v·ªõi 36 ƒë∆∞·ª£c 100." }
                ],
                correctAnswer: "A"
            },
            {
                number: "18",
                text: "M·ªôt b·∫£n ƒë·ªì kh√¥ng ghi t·ªâ l·ªá. Ph∆∞∆°ng ph√°p n√†o sau ƒë√¢y l√† kh√¥ng th·ªÉ th·ª±c hi·ªán ƒë∆∞·ª£c?",
                options: [
                    { letter: "A", text: "X√°c ƒë·ªãnh ph∆∞∆°ng h∆∞·ªõng tr√™n b·∫£n ƒë·ªì." },
                    { letter: "B", text: "T√¨m v·ªã tr√≠ t∆∞∆°ng ƒë·ªëi c·ªßa m·ªôt th√†nh ph·ªë so v·ªõi m·ªôt con s√¥ng." },
                    { letter: "C", text: "T√≠nh to√°n kho·∫£ng c√°ch th·ª±c t·∫ø gi·ªØa hai ƒë·ªãa ƒëi·ªÉm." },
                    { letter: "D", text: "So s√°nh ƒë·ªô d√†i t∆∞∆°ng ƒë·ªëi gi·ªØa hai con ƒë∆∞·ªùng tr√™n b·∫£n ƒë·ªì." }
                ],
                correctAnswer: "C"
            },
            {
                number: "19",
                text: "C√¢u \"D√¢n s·ªë tƒÉng 1,2%\" c√≥ nghƒ©a l√† g√¨ v·ªÅ m·∫∑t l√Ω thuy·∫øt?",
                options: [
                    { letter: "A", text: "D√¢n s·ªë hi·ªán t·∫°i l√† 101,2 ng∆∞·ªùi." },
                    { letter: "B", text: "D√¢n s·ªë ƒë√£ tƒÉng th√™m 1,2 ng∆∞·ªùi." },
                    { letter: "C", text: "N·∫øu d√¢n s·ªë ban ƒë·∫ßu l√† 100 ng∆∞·ªùi, th√¨ nay ƒë√£ tƒÉng th√™m 1,2 ng∆∞·ªùi." },
                    { letter: "D", text: "D√¢n s·ªë hi·ªán t·∫°i l√† 1,2% so v·ªõi d√¢n s·ªë ban ƒë·∫ßu." }
                ],
                correctAnswer: "C"
            },
            {
                number: "20",
                text: "Theo ƒë·ªãnh nghƒ©a, t·ªâ s·ªë c·ªßa s·ªë a v√† s·ªë b (v·ªõi b‚â†0) ƒë∆∞·ª£c vi·∫øt nh∆∞ th·∫ø n√†o?",
                options: [
                    { letter: "A", text: "a √ó b" },
                    { letter: "B", text: "a - b" },
                    { letter: "C", text: "a : b ho·∫∑c a/b" },
                    { letter: "D", text: "b : a ho·∫∑c b/a" }
                ],
                correctAnswer: "C"
            }
        ];

        // Game state
        let currentQuestionIndex = 0;
        let score = 0;
        let correctAnswers = 0;
        let wrongAnswers = 0;
        let answered = false;

        // Start game immediately when page loads
        window.onload = function () {
            showQuestion();
        };

        // Show question
        function showQuestion() {
            answered = false;
            const question = questions[currentQuestionIndex];

            // Update stats
            document.getElementById('currentQuestion').textContent = `${currentQuestionIndex + 1}/${questions.length}`;
            document.getElementById('correctCount').textContent = correctAnswers;
            document.getElementById('wrongCount').textContent = wrongAnswers;
            document.getElementById('scoreDisplay').textContent = score;

            // Update progress
            const progress = ((currentQuestionIndex) / questions.length) * 100;
            document.getElementById('progressFill').style.width = `${progress}%`;

            // Show question
            document.getElementById('questionNumber').textContent = `C√¢u ${question.number}`;
            document.getElementById('questionText').textContent = question.text;

            // Show options
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';

            question.options.forEach(option => {
                const optionEl = document.createElement('div');
                optionEl.className = 'option';
                optionEl.innerHTML = `
                    <span class="option-letter">${option.letter}</span>
                    <span class="option-text">${option.text}</span>
                `;
                optionEl.onclick = () => selectAnswer(option.letter, optionEl);
                optionsContainer.appendChild(optionEl);
            });

            // Hide feedback and nav
            document.getElementById('feedback').className = 'feedback';
            document.getElementById('navButtons').classList.remove('active');

            // Show quiz container, hide results
            document.getElementById('quizContainer').style.display = 'block';
            document.getElementById('resultsSection').classList.remove('active');
        }

        // Select answer
        function selectAnswer(letter, element) {
            if (answered) return;
            answered = true;

            initAudio();

            const question = questions[currentQuestionIndex];
            const isCorrect = letter === question.correctAnswer;

            // Disable all options
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.add('disabled');
            });

            // Mark selected and correct
            if (isCorrect) {
                element.classList.add('correct');
                score += 10;
                correctAnswers++;
                document.getElementById('feedback').className = 'feedback correct';
                document.getElementById('feedback').innerHTML = 'üéâ Ch√≠nh x√°c! Tuy·ªát v·ªùi!';
                playSound('correct');
                createSparkles(element);
            } else {
                element.classList.add('wrong');
                wrongAnswers++;
                document.getElementById('feedback').className = 'feedback wrong';
                document.getElementById('feedback').innerHTML = `üòÖ Ch∆∞a ƒë√∫ng r·ªìi! ƒê√°p √°n ƒë√∫ng l√†: <strong>${question.correctAnswer}</strong>`;
                playSound('wrong');

                // Highlight correct answer
                document.querySelectorAll('.option').forEach(opt => {
                    if (opt.querySelector('.option-letter').textContent === question.correctAnswer) {
                        opt.classList.add('correct');
                    }
                });
            }

            // Update stats
            document.getElementById('correctCount').textContent = correctAnswers;
            document.getElementById('wrongCount').textContent = wrongAnswers;
            document.getElementById('scoreDisplay').textContent = score;

            // Show next button
            document.getElementById('navButtons').classList.add('active');

            // Change button text for last question
            if (currentQuestionIndex === questions.length - 1) {
                document.querySelector('.next-btn').textContent = 'Xem k·∫øt qu·∫£ üèÜ';
            } else {
                document.querySelector('.next-btn').textContent = 'C√¢u ti·∫øp theo ‚û°Ô∏è';
            }
        }

        // Create sparkle effect
        function createSparkles(element) {
            const rect = element.getBoundingClientRect();
            for (let i = 0; i < 10; i++) {
                const sparkle = document.createElement('div');
                sparkle.style.cssText = `
                    position: fixed;
                    left: ${rect.left + Math.random() * rect.width}px;
                    top: ${rect.top + Math.random() * rect.height}px;
                    width: 10px;
                    height: 10px;
                    background: ${['#FFD700', '#FF6B6B', '#4ECDC4', '#A8E6CF'][Math.floor(Math.random() * 4)]};
                    border-radius: 50%;
                    pointer-events: none;
                    z-index: 1000;
                    animation: sparkle 0.6s ease forwards;
                `;
                document.body.appendChild(sparkle);
                setTimeout(() => sparkle.remove(), 600);
            }
        }

        // Add sparkle animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes sparkle {
                0% { transform: scale(1) translate(0, 0); opacity: 1; }
                100% { transform: scale(0) translate(${Math.random() * 100 - 50}px, ${Math.random() * 100 - 50}px); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // Next question
        function nextQuestion() {
            playSound('click');

            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                showQuestion();
            } else {
                showResults();
            }
        }

        // Show results
        function showResults() {
            document.getElementById('quizContainer').style.display = 'none';
            document.getElementById('resultsSection').classList.add('active');

            const percentage = (correctAnswers / questions.length) * 100;
            document.getElementById('finalScore').textContent = `${correctAnswers}/${questions.length}`;
            // Display completion time
            const now = new Date();
            // Format date
            const dateOptions = {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            };
            const dateStr = now.toLocaleDateString('vi-VN', dateOptions);
            const timeStr = now.toLocaleTimeString('vi-VN', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
            document.getElementById('completionTime').textContent = `üïê Ho√†n th√†nh l√∫c: ${timeStr} - ${dateStr}`;

            // Update progress to 100%
            document.getElementById('progressFill').style.width = '100%';

            // Stars and messages based on score
            let stars, message, trophy;
            if (percentage >= 90) {
                stars = '‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê';
                message = 'üéâ Xu·∫•t s·∫Øc! B·∫°n l√† ng√¥i sao s√°ng nh·∫•t!';
                trophy = 'üèÜ';
            } else if (percentage >= 70) {
                stars = '‚≠ê‚≠ê‚≠ê‚≠ê';
                message = 'üëè Tuy·ªát v·ªùi! Ch·ªâ c·∫ßn c·ªë g·∫Øng th√™m m·ªôt ch√∫t!';
                trophy = 'ü•á';
            } else if (percentage >= 50) {
                stars = '‚≠ê‚≠ê‚≠ê';
                message = 'üí™ Kh√° t·ªët! Ti·∫øp t·ª•c luy·ªán t·∫≠p nh√©!';
                trophy = 'ü•à';
            } else if (percentage >= 30) {
                stars = '‚≠ê‚≠ê';
                message = 'üìö C·∫ßn √¥n t·∫≠p th√™m! ƒê·ª´ng b·ªè cu·ªôc!';
                trophy = 'ü•â';
            } else {
                stars = '‚≠ê';
                message = 'üå± H√£y h·ªçc th√™m v√† th·ª≠ l·∫°i nh√©!';
                trophy = 'üéØ';
            }

            document.getElementById('stars').textContent = stars;
            document.getElementById('scoreMessage').textContent = message;
            document.getElementById('trophyIcon').textContent = trophy;

            playSound('complete');
            createConfetti();
        }

        // Create confetti
        function createConfetti() {
            const colors = ['#667eea', '#764ba2', '#f093fb', '#FFD700', '#FF6B6B', '#4ECDC4'];
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                    confetti.style.width = (Math.random() * 10 + 5) + 'px';
                    confetti.style.height = (Math.random() * 10 + 5) + 'px';
                    document.body.appendChild(confetti);
                    setTimeout(() => confetti.remove(), 4000);
                }, i * 50);
            }
        }

        // Restart game
        function restartGame() {
            playSound('click');
            currentQuestionIndex = 0;
            score = 0;
            correctAnswers = 0;
            wrongAnswers = 0;
            showQuestion();
        }

        // Initialize audio on any click
        document.body.addEventListener('click', initAudio, { once: true });
    </script>
</body>

</html>